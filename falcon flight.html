<!doctype html>
<html>
    
    <head>
    <title>Falcon Flight</title>
</head>

<body>

    <canvas id="gameCanvas" width="800" height="800"></canvas>
    <script>
        var canvas, canvasContext;

        window.onload = function() {
            canvas = document.getElementById('gameCanvas');
            canvasContext = canvas.getContext('2d');

            document.addEventListener('keydown', keyPressed);
            document.addEventListener('keyup', keyReleased);

            setInterval(mainloop, 1000 / 50);
        }

        //ship
        var shipXpos = 400;
        var shipYpos = 700;
        var shipSpeed = 5;
        const shipWidth = 50;
        const shipHeight = 50;

        //keys
        const A_KEY = 65;
        const D_KEY = 68;
        const W_KEY = 87;
        var aKeyPressed = false;
        var dKeyPressed = false;
        var wKeyPressed = false;

        function mainloop() { // runs code 50 time per second 
            colorRect(0, 0, canvas.width, canvas.height, 'black');
            colorRect(shipXpos, shipYpos, shipWidth, shipHeight, 'red');
            
            playerMove();
            
        }


        function colorRect(x, y, w, h, color) {
            canvasContext.fillStyle = color;
            canvasContext.fillRect(x, y, w, h);
        }

        function keyPressed(evt) {
            if (evt.keyCode == A_KEY) {
                aKeyPressed = true;
            }
            if (evt.keyCode == D_KEY) {
                dKeyPressed = true;
            }
            if (evt.keyCode == W_KEY) {
                wKeyPressed = true;
            }
        }


        function keyReleased(evt) {

            if (evt.keyCode == A_KEY) {
                aKeyPressed = false;
            }
            if (evt.keyCode == D_KEY) {
                dKeyPressed = false;
            }
            if (evt.keyCode == W_KEY) {
                wKeyPressed = false;
            }
        }


        function playerMove() {

            if (aKeyPressed) {
                shipXpos = shipXpos - shipSpeed;
            }
            if (dKeyPressed) {
                shipXpos = shipXpos + shipSpeed;
            }
        }

        //make default name "lazy"
    </script>
</body>
</html>